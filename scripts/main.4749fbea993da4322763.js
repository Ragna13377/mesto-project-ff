!function(){"use strict";var e=document.querySelector("#card-template").content,t=function(e){return e.target.closest(".card").remove()},n=function(e){return e.target.classList.toggle("card__like-button_is-active")},r=function(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",i)},o=function(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",i)},i=function(e){"Escape"===e.key&&o(document.querySelector(".popup_is-opened"))},c=function(e){e.target.classList.contains("popup")&&o(e.currentTarget)},a=function(e){e.target.classList.contains("popup__close")&&o(e.currentTarget)};function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===l(o)?o:String(o)),r)}var o}function d(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var f=document.querySelector(".places__list"),m=function(){function e(t){s(this,e),this.element=document.querySelector(t)}return d(e,[{key:"setValue",value:function(e){this.element.textContent=e}},{key:"getValue",value:function(){return this.element.textContent}}]),e}(),y=new m(".profile__title"),v=new m(".profile__description"),_=document.querySelector(".profile__add-button"),g=document.querySelector(".popup_type_new-card"),b=g.querySelector(".popup__form"),k=document.querySelector(".profile__edit-button"),S=document.querySelector(".popup_type_edit"),h=S.querySelector(".popup__form"),q=function(){function e(t){s(this,e),this.element=S.querySelector(t)}return d(e,[{key:"setValue",value:function(e){this.element.value=e}}]),e}(),w=new q('input[name="name"]'),L=new q('input[name="description"]'),E={element:document.querySelector(".popup_type_image")};E.image=E.element.querySelector(".popup__image"),E.caption=E.element.querySelector(".popup__caption");var j=function(e,t){E.image.src=e,E.caption.textContent=t,r(E.element)};function x(r,o){var i=function(r,o){var i=e.querySelector(".card").cloneNode(!0);return i.querySelector(".card__image").src=r.link,i.querySelector(".card__title").textContent=r.name,i.querySelector(".card__delete-button").addEventListener("click",t),i.querySelector(".card__like-button").addEventListener("click",n),i.querySelector(".card__image").addEventListener("click",(function(){return o(r.link,r.name)})),i}(r,o);f.prepend(i)}var V,T=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){a=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(a)throw i}}}}([{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}]);try{for(T.s();!(V=T.n()).done;)x(V.value,j)}catch(e){T.e(e)}finally{T.f()}_.addEventListener("click",(function(){b.reset(),r(g)})),k.addEventListener("click",(function(){w.setValue(y.getValue()),L.setValue(v.getValue()),r(S)})),b.addEventListener("submit",(function(e){e.preventDefault(),function(e){var t=new FormData(e.currentTarget);x({name:t.get("place-name"),link:t.get("link")})}(e),b.reset(),o(g)})),h.addEventListener("submit",(function(e){e.preventDefault(),function(e){var t=new FormData(e.currentTarget);y.setValue(t.get("name")),v.setValue(t.get("description"))}(e),h.reset(),o(S)})),g.addEventListener("click",c),g.addEventListener("click",a),S.addEventListener("click",c),S.addEventListener("click",a),E.element.addEventListener("click",c),E.element.addEventListener("click",a)}();